namespace LMAOBOXLOADER
{
    using InjectionLibrary;
    using LMAOBOXLOADER.Properties;
    using System;
    using System.ComponentModel;
    using System.Diagnostics;
    using System.Drawing;
    using System.Windows.Forms;

    public class FormA : Form
    {
        private Label box;
        private IContainer components;
        private InjectionMethod injector = new InjectionMethod();
        private PictureBox pictureBox1;
        private Timer timer1;

        public FormA()
        {
            this.InitializeComponent();
        }

        protected override void Dispose(bool disposing)
        {
            if (disposing && (this.components != null))
            {
                this.components.Dispose();
            }
            base.Dispose(disposing);
        }

        private void FormA_Load(object sender, EventArgs e)
        {
        }

        private void FormA_Shown(object sender, EventArgs e)
        {
            if (Environment.OSVersion.Version.Major <= 5)
            {
                MessageBox.Show("Thank You For Trying This client But your PC Can't run this!");
            }
            else
            {
                MessageBox.Show("Finding Fortnite/ When Done have Fun Playing with Aimbot");
                this.timer1.Enabled = true;
            }
        }

        private void InitializeComponent()
        {
            this.components = new System.ComponentModel.Container();
            this.timer1 = new System.Windows.Forms.Timer(this.components);
            this.box = new System.Windows.Forms.Label();
            this.pictureBox1 = new System.Windows.Forms.PictureBox();
            ((System.ComponentModel.ISupportInitialize)(this.pictureBox1)).BeginInit();
            this.SuspendLayout();
            // 
            // timer1
            // 
            this.timer1.Interval = 1500;
            this.timer1.Tick += new System.EventHandler(this.timer1_Tick);
            // 
            // box
            // 
            this.box.AutoSize = true;
            this.box.BackColor = System.Drawing.Color.Black;
            this.box.Font = new System.Drawing.Font("Calibri", 15.75F, System.Drawing.FontStyle.Regular, System.Drawing.GraphicsUnit.Point, ((byte)(238)));
            this.box.ForeColor = System.Drawing.SystemColors.ControlLightLight;
            this.box.Location = new System.Drawing.Point(12, 206);
            this.box.Name = "box";
            this.box.Size = new System.Drawing.Size(120, 26);
            this.box.TabIndex = 0;
            this.box.Text = ">>> Null Hook <<<";
            // 
            // pictureBox1
            // 
            this.pictureBox1.BackgroundImage = global::Properties.Resources.photo;
            this.pictureBox1.Location = new System.Drawing.Point(0, -1);
            this.pictureBox1.Name = "pictureBox1";
            this.pictureBox1.Size = new System.Drawing.Size(269, 237);
            this.pictureBox1.TabIndex = 1;
            this.pictureBox1.TabStop = false;
            // 
            // FormA
            // 
            this.AutoScaleDimensions = new System.Drawing.SizeF(6F, 13F);
            this.AutoScaleMode = System.Windows.Forms.AutoScaleMode.Font;
            this.ClientSize = new System.Drawing.Size(274, 241);
            this.Controls.Add(this.box);
            this.Controls.Add(this.pictureBox1);
            this.FormBorderStyle = System.Windows.Forms.FormBorderStyle.FixedToolWindow;
            this.Name = "FormA";
            this.ShowIcon = false;
            this.ShowInTaskbar = false;
            this.StartPosition = System.Windows.Forms.FormStartPosition.CenterScreen;
            this.Text = "Luncher";
            this.TopMost = true;
            this.Load += new System.EventHandler(this.FormA_Load);
            this.Shown += new System.EventHandler(this.FormA_Shown);
            ((System.ComponentModel.ISupportInitialize)(this.pictureBox1)).EndInit();
            this.ResumeLayout(false);
            this.PerformLayout();

        }

        private void Loader()
        {
            this.timer1.Enabled = false;
            Process[] processesByName = Process.GetProcessesByName("epic");
            if ((processesByName.Length == 0) || (processesByName[0].MainWindowHandle == IntPtr.Zero))
            {
                this.timer1.Enabled = true;
            }
            else
            {
                try
                {
                    this.injector.Inject(processesByName[0].Id);
                }
                catch (Exception exception)
                {
                    MessageBox.Show(exception.Message);
                }
                base.Close();
            }
        }

        private void timer1_Tick(object sender, EventArgs e)
        {
            this.Loader();
        }
    }
}

